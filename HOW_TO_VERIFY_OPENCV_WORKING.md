# โ ููููุฉ ุงูุชุญูู ูู ุนูู OpenCV Auto-Fix

## ๐ฏ ุงููุดููุฉ

ูุฏ ูุง ุชุฑู ุชุตุญูุญ ุงูุตูุฑ ููุฑุงู ุจุนุฏ ุฅุถุงูุฉ ุงูููุฏ ูุฃู:
1. โ ุงูููุฏ ููุฌูุฏ ูู GitHub
2. โ Backend (Railway) ูู ููุญุฏูุซ ุจุนุฏ!

---

## ๐ ููู ุชุชุญูู ุฃู OpenCV ูุดุชุบูุ

### ุทุฑููุฉ 1๏ธโฃ: ุชุญูู ูู Backend Logs (Railway)

1. **ุงูุชุญ Railway Dashboard**:
   - ุฑูุญ https://railway.app
   - ุงุฎุชุฑ ูุดุฑูุนู
   - ุงุฎุชุฑ Backend service

2. **ุดุงูุฏ Logs**:
   ```
   ุงุจุญุซ ุนู ูุฐู ุงูุฑุณุงุฆู:
   โ "๐ง Applying auto-fix to image"
   โ "๐ OSD detected rotation angle"
   โ "๐ Deskewing by X.XXยฐ"
   โ "๐ฒ Applying perspective correction"
   โ "โ Auto-fix completed!"
   ```

3. **ุฅุฐุง ูุง ูููุช ุงูุฑุณุงุฆู**:
   - Backend ูุญุชุงุฌ redeploy!

---

### ุทุฑููุฉ 2๏ธโฃ: ููุงุฑูุฉ ุงูุตูุฑ ูุจู ูุจุนุฏ

1. **ุงุฑูุน ุตูุฑุฉ ูุงุชูุฑุฉ ูุงุฆูุฉ**
2. **ุดูู ุงูุตูุฑุฉ ุงููุญููุธุฉ ูู Supabase**:
   - ุฑูุญ Supabase Dashboard
   - Storage โ invoices bucket
   - ุดูู ุขุฎุฑ ุตูุฑุฉ ูุฑููุนุฉ
   
3. **ูุงุฑู**:
   - **ูุจู**: ุตูุฑุฉ ูุงุฆูุฉ/ููููุจุฉ
   - **ุจุนุฏ**: ุตูุฑุฉ ูุณุชูููุฉ โ

---

### ุทุฑููุฉ 3๏ธโฃ: ุชุดุบูู Backend ูุญููุงู

ุฅุฐุง ุชุจู ุชุชุฃูุฏ 100%:

```bash
cd backend

# 1. ุซุจุช ุงูููุชุจุงุช ุงูุฌุฏูุฏุฉ
pip install opencv-python==4.10.0.84 pytesseract==0.3.13

# 2. (ุงุฎุชูุงุฑู) ุซุจุช Tesseract OCR
# Ubuntu: sudo apt-get install tesseract-ocr
# macOS: brew install tesseract
# Windows: ุญูู ูู https://github.com/UB-Mannheim/tesseract/wiki

# 3. ุดุบู Backend
uvicorn main:app --reload --port 8000

# 4. ุฌุฑุจ ุงุฑูุน ุตูุฑุฉ ูู Frontend
# ุบูุฑ API_BASE ูู frontend ุฅูู: http://localhost:8000
```

---

## ๐ ููู ุชุญุฏุซ Backend ุนูู Railwayุ

### ุงูุทุฑููุฉ ุงูุฃูุชููุงุชูููุฉ โจ (ููุตู ุจูุง):

Railway ุนุงุฏุฉ ููุญุฏูุซ ุชููุงุฆูุงู ุนูุฏ Push ุนูู GitHubุ ููู ุฃุญูุงูุงู ูุญุชุงุฌ ุชูุนูู:

1. **ุฑูุญ Railway Dashboard**
2. **Settings** โ **Service**
3. **ุชุฃูุฏ ูู ุชูุนูู**:
   - โ Auto-Deploy on Push
   - โ Watch Branch: `main`

4. **ุฃู ุงุถุบุท**:
   - "Trigger Deploy" ูุฏููุงู

---

### ุงูุทุฑููุฉ ุงููุฏููุฉ ๐:

```bash
# ูู Railway Dashboard
1. ุงุถุบุท "Deployments"
2. ุงุถุบุท "Deploy Latest Commit"
3. ุงูุชุธุฑ 2-3 ุฏูุงุฆู
```

---

## ๐จ ุงููุคุดุฑุงุช ุงูุฌุฏูุฏุฉ ูู Frontend

ุจุนุฏ ุงูุชุญุฏูุซ ุงูุฃุฎูุฑุ ุงููุณุชุฎุฏู ุจูุดูู:

```
๐ค ุฌุงุฑู ุฑูุน ุงูุตูุฑุฉ... (5%)
    โณ ุฑูุน ุงูุตูุฑุฉ

๐ง ุฌุงุฑู ูุนุงูุฌุฉ ุงูุตูุฑุฉ ูุชุตุญูุญูุง... (20%)
    โณ ุชุตุญูุญ ุงูุฏูุฑุงู ูุงูููู (OpenCV)

โ ุชู ุชุตุญูุญ ุงูุตูุฑุฉ ุจูุฌุงุญ! (45%)
    โ ุฑูุน ุงูุตูุฑุฉ
    โ ุชุตุญูุญ ุงูุฏูุฑุงู ูุงูููู (OpenCV)

๐ค ุฌุงุฑู ุชุญููู ุงููุงุชูุฑุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู... (55%)
    โณ ุชุญููู ุงูุจูุงูุงุช ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู

๐ ุฌุงุฑู ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช... (75%)

โจ ุฌุงุฑู ุชุฌููุฒ ุงููุชุงุฆุฌ... (95%)

๐ ุชู ุจูุฌุงุญ! (100%)
    โ ูู ุงูุนูููุงุช ููุชููุฉ
```

---

## ๐งช ุงุฎุชุจุงุฑ ุณุฑูุน

### ุตูุฑุฉ ุชุฌุฑูุจูุฉ:

1. **ุญููู ุตูุฑุฉ ูุงุชูุฑุฉ ูุงุฆูุฉ** ูู:
   - Google Images: "tilted receipt"
   - ุฃู ุตูุฑ ุตูุฑุฉ ุจุฌูุงูู ุจุฒุงููุฉ

2. **ุงุฑูุนูุง ุนูู** `/upload`

3. **ุดุงูุฏ ุงููุคุดุฑุงุช**:
   - ุฅุฐุง ุธูุฑุช "ุชุตุญูุญ ุงูุฏูุฑุงู ูุงูููู (OpenCV)" โ ูุดุชุบู! โ
   - ุฅุฐุง ูุง ุธูุฑุช โ Backend ูุญุชุงุฌ update

---

## โ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "ูุง ุฃุดูู ูุนุงูุฌุฉ OpenCV"

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**

1. **Backend ูู ููุญุฏูุซ**:
   ```
   ุงูุญู: 
   - ุงูุชุญ Railway Dashboard
   - ุงุถุบุท "Trigger Deploy"
   - ุงูุชุธุฑ 2-3 ุฏูุงุฆู
   ```

2. **ุงูุตูุฑุฉ ูุง ุชุญุชุงุฌ ุชุตุญูุญ**:
   ```
   ุงูููุฏ ุฐูู:
   - ุฅุฐุง ุงูุตูุฑุฉ ูุณุชูููุฉ ุฃุตูุงู โ ูุง ูุนุฏู ุดูุก
   - ุฅุฐุง ุงูุฒุงููุฉ < 0.5ยฐ โ ูุชุฎุทุงูุง
   
   ุฌุฑุจ ุตูุฑุฉ ูุงุฆูุฉ ูุงุถุญ!
   ```

3. **ุฎุทุฃ ูู OpenCV**:
   ```
   ุดูู Railway Logs:
   - ุฅุฐุง ููู "โ๏ธ Auto-fix failed" โ ูุดููุฉ ูู ุงูููุชุจุฉ
   - ุชุฃูุฏ opencv-python ูุซุจุช ูู requirements.txt
   ```

---

## ๐ ูุนูููุงุช ุฅุถุงููุฉ

### ุงูููุช ุงููุชููุน ููู ูุฑุญูุฉ:

| ุงููุฑุญูุฉ | ุงูููุช |
|---------|-------|
| ุฑูุน ุงูุตูุฑุฉ | ~0.5-1s |
| ุชุตุญูุญ OpenCV | ~1-2s |
| ุชุญููู VLM | ~3-5s |
| **ุงูุฅุฌูุงูู** | **~5-8s** |

### ูุชู ูุชู ุงูุชุตุญูุญุ

```
โ ุตูุฑุฉ ููููุจุฉ 180ยฐ โ ูุตุญุญ
โ ุตูุฑุฉ ูุงุฆูุฉ > 0.5ยฐ โ ูุตุญุญ
โ ุตูุฑุฉ ุจููุธูุฑ ูุงุถุญ โ ูุตุญุญ
โ ุตูุฑุฉ ูุณุชูููุฉ โ ูุง ูุนุฏู (ุชูููุฑ ููุช)
```

---

## ๐ฏ ุงูุฎูุงุตุฉ

### ููุชุฃูุฏ ุฃู ูู ุดูุก ูุดุชุบู:

1. โ **ุงูุญุต Railway Logs** (ุฃุณูู ุทุฑููุฉ)
2. โ **ุดูู ุงููุคุดุฑุงุช ูู Frontend** (ูุงุถุญุฉ ุฌุฏุงู)
3. โ **ูุงุฑู ุงูุตูุฑ ูู Supabase** (ุชุฃููุฏ ููุงุฆู)

### ุฅุฐุง ูู ุดูุก ุตุญ:

```
ุงููุณุชุฎุฏู ูุฑูุน ุตูุฑุฉ ูุงุฆูุฉ
         โ
ูุดูู "๐ง ุฌุงุฑู ูุนุงูุฌุฉ ุงูุตูุฑุฉ ูุชุตุญูุญูุง..."
         โ
ุงูุตูุฑุฉ ุชูุตุญุญ ุชููุงุฆูุงู
         โ
ุชูุญูู ุจุฏูุฉ ุนุงููุฉ
         โ
ูุชุงุฆุฌ ููุชุงุฒุฉ! โจ
```

---

## ๐ฑ ุชูุงุตู

ุฅุฐุง ุนูุฏู ุฃู ูุดููุฉ:
1. ุงูุญุต Railway Logs
2. ุชุฃูุฏ ูู deployment ุงูุฃุฎูุฑ
3. ุฌุฑุจ ุตูุฑุฉ ูุงุฆูุฉ ูุงุถุญ

**ูู ุดูุก ุดุบุงู! ููุท ุชุฃูุฏ ูู deployment ุงูุจุงููุฏุฏ ุงูุฌุฏูุฏ! ๐**

